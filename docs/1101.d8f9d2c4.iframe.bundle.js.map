{"version":3,"file":"1101.d8f9d2c4.iframe.bundle.js","mappings":";;;;;;;;;;;AAkBA","sources":["webpack://@rolemodel/optics/./node_modules/storybook-design-token/dist/index.mjs"],"sourcesContent":["import i, { useMemo, useState, useEffect, useCallback, useRef, useLayoutEffect } from 'react';\nimport { styled, keyframes } from '@storybook/theming';\nimport { useStorageState } from 'react-storage-hooks';\nimport { Icons, WithTooltip, TooltipNote, TooltipMessage, Button } from '@storybook/components';\nimport qe from 'react-use-clipboard';\nimport { transparentize } from 'polished';\nimport { useVirtual } from 'react-virtual';\n\nfunction U(e,o){let[r,n]=useState(e);return useEffect(()=>{let a=setTimeout(()=>{n(e);},o);return ()=>{clearTimeout(a);}},[e,o]),r}function Z(e){let[o,r]=useState(\"\"),n=U(o,250);return {categories:useMemo(()=>n?e?.map(l=>({...l,tokens:l.tokens.filter(u=>u.name.includes(n))})):e,[n,e]),searchText:o,setSearchText:r}}function J(e){let[o,r]=useState(),[n,a]=useState([]),[l,u]=useState([]),[p,d]=useState([]),[g,f]=useState([]),[S,E]=useState([]),[w,y]=useState(),[t,s]=useStorageState(localStorage,\"storybook-design-token-addon-card\",!1),[b,k]=useState(\"\"),z=useMemo(()=>{let T=[...n,...l,...p,...g,...S].filter(h=>h!==void 0&&h?.tokens.length>0);return Array.from(new Set(T.map(h=>h?.name))).map(h=>({label:h,categories:T.filter(N=>N?.name===h)}))},[n,l,p,g,S]);return useEffect(()=>{async function T(){let v=await(await fetch(\"./design-tokens.source.json\")).text();r(JSON.parse(v));}T();},[]),useEffect(()=>{let T=o?.cssTokens,v=o?.lessTokens,h=o?.scssTokens,N=o?.svgTokens,q=o?.imageTokens;k(e?.styleInjection||\"\"),T&&(a(T.categories),!e?.defaultTab&&T.categories.length>0&&y(x=>x||T.categories[0].name),k(x=>x+T.injectionStyles)),v&&(u(v.categories),!e?.defaultTab&&v.categories.length>0&&y(x=>x||v.categories[0].name),k(x=>x+v.injectionStyles)),h&&(d(h.categories),!e?.defaultTab&&h.categories.length>0&&y(x=>x||h.categories[0].name),k(x=>x+h.injectionStyles)),N&&f(N.categories),q&&E(q.categories);},[e,o]),useEffect(()=>{e?.defaultTab&&y(e.defaultTab);},[e]),{activeCategory:w,cardView:t,setActiveCategory:y,setCardView:s,styleInjections:b,tabs:z}}var F=styled.input(({theme:e})=>({appearance:\"none\",background:e.input.background,border:\"0 none\",borderRadius:e.input.borderRadius,boxShadow:`${e.input.border} 0 0 0 1px inset`,boxSizing:\"inherit\",color:e.input.color||\"inherit\",display:\" block\",fontSize:e.typography.size.s2-1,lineHeight:\"20px\",margin:\" 0\",padding:\"6px 10px\",position:\"relative\",transition:\"all 200ms ease-out\",width:\"100%\",\"&:focus\":{boxShadow:`${e.color.secondary} 0 0 0 1px inset`,outline:\"none\"},\"&[disabled]\":{cursor:\"not-allowed\",opacity:.5},\"&:-webkit-autofill\":{WebkitBoxShadow:`0 0 0 3em ${e.color.lightest} inset`},\"::placeholder\":{color:e.color.mediumdark}}));var We=styled.div(({theme:e})=>({display:\"flex\",flexDirection:\"column\",position:\"relative\",\"&:focus-within svg\":{color:e.color.defaultText}})),_e=styled(Icons)(({theme:e})=>({width:12,height:12,position:\"absolute\",top:10,left:10,zIndex:1,pointerEvents:\"none\",color:e.textMutedColor})),$e=styled.button(({theme:e})=>({width:16,height:16,padding:4,position:\"absolute\",top:8,right:8,zIndex:1,background:\"rgba(0,0,0,0.1)\",border:\"none\",borderRadius:16,color:e.color.defaultText,cursor:\"pointer\",display:\"flex\",alignItems:\"center\",justifyContent:\"center\"})),je=styled(Icons)(({theme:e})=>({})),Ye=styled(F)(({theme:e})=>({paddingLeft:28,paddingRight:28,height:32}));function R({value:e,onChange:o,style:r}){let n=useCallback(l=>{o(l.target.value);},[o]),a=useCallback(()=>{o(\"\");},[o]);return i.createElement(We,{className:\"token-search\",style:r},i.createElement(_e,{icon:\"search\"}),i.createElement(Ye,{value:e,onChange:n,placeholder:\"Provide a token name \\u2026\"}),i.createElement($e,{onClick:a},i.createElement(je,{icon:\"cross\"})))}var L=({button:e,value:o})=>{let[r,n]=qe(o);return i.createElement(\"span\",{onClick:n},e)};var oe=({token:e})=>{let o=useMemo(()=>styled.div(({theme:r})=>({background:r.color.secondary,borderRadius:2,height:32,width:\"100%\"})),[e]);return i.createElement(\"div\",{style:{overflow:\"hidden\"}},i.createElement(o,{style:{animation:e.value}}))};var te=({token:e})=>{let o=useMemo(()=>styled.div(()=>({border:e.value,height:32,width:\"100%\"})),[e]);return i.createElement(o,null)};var se=({token:e})=>{let o=useMemo(()=>styled.div(()=>({minHeight:32,height:32,overflow:\"auto\"})),[]),r=useMemo(()=>styled.div(({theme:n})=>({background:n.color.secondary,borderRadius:e.value,minHeight:`calc(${e.value} * 2)`,minWidth:`calc(${e.value} * 2)`,overflow:\"hidden\",width:\"100%\"})),[e]);return i.createElement(o,null,i.createElement(r,null))};var W=({token:e})=>{let o=useMemo(()=>styled.div(()=>({background:e.value,borderRadius:2,height:32,width:\"100%\"})),[e]);return i.createElement(o,null)};var ae=({token:e})=>{let o=keyframes`\n    0% {\n      transform: scaleX(0);\n    }\n    50% {\n      transform: scaleX(1);\n    }\n    100% {\n      transform: scaleX(0);\n    }\n  `,r=useMemo(()=>styled.div(({theme:n})=>({animation:`${o} 2s infinite`,animationTimingFunction:e.value,background:n.color.secondary,borderRadius:2,height:32,transformOrigin:\"left\",width:\"100%\"})),[e]);return i.createElement(r,null)};var me=()=>{let e=useMemo(()=>styled.div(({theme:o})=>({alignItems:\"center\",color:o.color.mediumdark,display:\"flex\",height:32,width:\"100%\"})),[]);return i.createElement(e,null,\"No preview available.\")};var le=({token:e})=>{let o=useMemo(()=>styled.div(()=>({fontFamily:e.value,width:\"100%\"})),[e]);return i.createElement(o,null,\"Lorem ipsum\")};var pe=({token:e})=>{let o=useMemo(()=>styled.div(()=>({fontSize:e.value,height:e.value,lineHeight:1,whiteSpace:\"nowrap\",width:\"100%\"})),[e]);return i.createElement(o,null,\"Lorem ipsum\")};var de=({token:e})=>{let o=useMemo(()=>styled.div(()=>({fontWeight:e.value,width:\"100%\"})),[e]);return i.createElement(o,null,\"Lorem ipsum\")};var ce=({token:e})=>{let o=useMemo(()=>styled.div(()=>({height:\"100%\",lineHeight:e.value,overflow:\"auto\",width:\"100%\"})),[e]);return i.createElement(o,null,\"Lorem, ipsum dolor sit amet consectetur adipisicing elit. Ipsam veniam eum dicta.\")};var ue=({token:e})=>{let o=useMemo(()=>styled.div(()=>({height:\"100%\",letterSpacing:e.value,overflow:\"auto\",width:\"100%\"})),[e]);return i.createElement(o,null,\"Lorem, ipsum dolor sit amet consectetur adipisicing elit. Ipsam veniam eum dicta.\")};var he=({token:e})=>{let o=useMemo(()=>styled.div(()=>({display:\"flex\",height:\"2rem\",width:\"100%\"})),[e]),r=useMemo(()=>styled.div(()=>({backgroundColor:\"#000\",borderRadius:\"50%\",height:\"2rem\",opacity:e.value,width:\"2rem\",\"&:nth-of-type(2)\":{transform:\"translateX(-50%)\"}})),[e]);return i.createElement(o,null,i.createElement(r,null),i.createElement(r,null))};var ye=({token:e})=>{let o=useMemo(()=>styled.div(({theme:r})=>({background:\"#fff\",boxShadow:e.value,height:32,width:\"100%\"})),[e]);return i.createElement(o,null)};var Te=({token:e})=>{let o=useMemo(()=>styled.div(({theme:r})=>({background:r.color.secondary,borderRadius:2,height:32,width:e.value})),[e]);return i.createElement(o,null)};var xe=({token:e})=>{let o=useMemo(()=>styled.div(()=>({alignItems:\"center\",display:\"flex\",height:32,width:\"100%\"})),[e]);return i.createElement(o,{dangerouslySetInnerHTML:{__html:e.value}})};function be({token:e}){let o=useMemo(()=>styled.img(()=>({maxHeight:32,maxWidth:\"100%\",backgroundSize:\"contain\"})),[e]);return i.createElement(o,{src:`data:image/png;base64, ${e.value}`})}var O=({token:e})=>{switch(e.presenter){case\"Animation\":return i.createElement(oe,{token:e});case\"Border\":return i.createElement(te,{token:e});case\"BorderRadius\":return i.createElement(se,{token:e});case\"Color\":return i.createElement(W,{token:e});case\"Easing\":return i.createElement(ae,{token:e});case\"FontFamily\":return i.createElement(le,{token:e});case\"FontSize\":return i.createElement(pe,{token:e});case\"FontWeight\":return i.createElement(de,{token:e});case\"Gradient\":return i.createElement(W,{token:e});case\"LineHeight\":return i.createElement(ce,{token:e});case\"LetterSpacing\":return i.createElement(ue,{token:e});case\"Opacity\":return i.createElement(he,{token:e});case\"Shadow\":return i.createElement(ye,{token:e});case\"Spacing\":return i.createElement(Te,{token:e});case\"Svg\":return i.createElement(xe,{token:e});case\"Image\":return i.createElement(be,{token:e})}return i.createElement(me,null)};var P=({children:e,onClick:o})=>{let r=useMemo(()=>styled.button(({theme:n})=>({alignItems:\"center\",backgroundColor:\"transparent\",border:\"none\",cursor:\"pointer\",display:\"inline-flex\",height:18,justifyContent:\"center\",marginLeft:4,padding:0,verticalAlign:\"middle\",width:18,\"&:hover\":{color:n.color.secondary},\"> svg\":{height:13,position:\"relative\",top:-1,width:13}})),[]);return i.createElement(r,{onClick:o},e)};var A=({onValueChange:e,readonly:o,token:r})=>{let[n,a]=useState(r.rawValue),l=useMemo(()=>styled.div(()=>({position:\"relative\"})),[]),u=useMemo(()=>styled.span(()=>({position:\"absolute\",right:8,top:\"50%\",transform:\"translate3d(0, -50%, 0)\"})),[]),p=useMemo(()=>styled.span(()=>({overflow:\"hidden\",wordBreak:\"break-all\",WebkitLineClamp:3,WebkitBoxOrient:\"vertical\",display:\"-webkit-box\"})),[]),d=r.sourceType!==\"CSS\"&&r.sourceType!==\"SVG\";return useEffect(()=>{let f=document.querySelector(\"#storybook-preview-iframe\")?.contentWindow?.document.documentElement;f!=null&&(r.rawValue!==n?f.style.setProperty(r.name,n):f.style.setProperty(r.name,r.rawValue));},[n]),i.createElement(l,null,d&&i.createElement(p,{title:n},n),!d&&i.createElement(F,{readOnly:o,onChange:g=>{let f=g.target.value;a(f),e(f);},value:n}),!d&&r.rawValue!==n&&i.createElement(u,null,i.createElement(P,{onClick:()=>{a(r.rawValue),e(r.rawValue);}},i.createElement(Icons,{icon:\"close\"}))))};var Se=({categories:e,padded:o=!0,readonly:r,showValueColumn:n=!0,pageSize:a=50})=>{let[l,u]=useState({}),[p,d]=useState(0),g=useMemo(()=>styled.div(()=>({display:\"grid\",columnGap:12,gridTemplateColumns:\"repeat(auto-fit, minmax(240px, 1fr))\",padding:o?15:void 0,rowGap:12})),[]),f=useMemo(()=>styled.div(({theme:t})=>({boxShadow:\"rgb(0 0 0 / 10%) 0px 1px 3px 1px, rgb(0 0 0 / 7%) 0px 0px 0px 1px\",borderRadius:4,color:t.color.defaultText,fontFamily:t.typography.fonts.base,fontSize:t.typography.size.s1,padding:12,overflow:\"hidden\",\"> *:not(:last-child)\":{marginBottom:8},svg:{maxWidth:\"100%\",maxHeight:\"100%\"}})),[]),S=styled.span(({theme:t})=>({fontFamily:t.typography.fonts.mono,fontWeight:t.typography.weight.bold,fontSize:t.typography.size.s1})),E=useMemo(()=>styled.div(({theme:t})=>({alignItems:\"center\",color:t.color.defaultText,display:\"flex\",fontFamily:t.typography.fonts.base,fontSize:t.typography.size.s1,justifyContent:\"space-between\",paddingRight:o?15:void 0,paddingBottom:o?48:void 0,paddingLeft:o?15:void 0,marginTop:8,\"& > div\":{display:\"flex\",gap:8}})),[]),w=useMemo(()=>e.reduce((t,s)=>[...t,...s.tokens],[]),[e]),y=useMemo(()=>Math.ceil(w.length/a),[w]);return i.createElement(i.Fragment,null,i.createElement(g,null,w.slice(p*a,p*a+a).map((t,s)=>i.createElement(f,{key:t.name+\"-card-\"+s},i.createElement(S,null,t.name),i.createElement(WithTooltip,{hasChrome:!1,tooltip:i.createElement(TooltipNote,{note:\"Copy to clipboard\"})},i.createElement(L,{button:i.createElement(P,null,i.createElement(Icons,{icon:\"copy\"})),value:t.name})),t.description&&i.createElement(WithTooltip,{tooltip:i.createElement(TooltipMessage,{desc:t.description})},i.createElement(P,null,i.createElement(Icons,{icon:\"info\"}))),n&&i.createElement(A,{onValueChange:b=>{u(k=>({...k,[t.name]:b===t.rawValue?void 0:b}));},readonly:r,token:t}),i.createElement(O,{token:{...t,value:l[t.name]||t.value}})))),y>1&&i.createElement(E,null,i.createElement(\"span\",null,\"Page \",p+1,\" of \",y),i.createElement(\"div\",null,i.createElement(Button,{disabled:p===0,onClick:()=>d(t=>Math.max(0,t-1)),tertiary:!0,small:!0},\"Previous page\"),i.createElement(Button,{disabled:p>=y-1,onClick:()=>d(t=>Math.min(t+1,y-1)),tertiary:!0,small:!0},\"Next page\"))))};var Ve=({categories:e,maxHeight:o,readonly:r,showValueColumn:n=!0})=>{let[a,l]=useState({}),[u,p]=useState(o||100),d=useRef(null),g=useRef(null),f=useMemo(()=>e.reduce((t,s)=>[...t,...s.tokens],[]),[e]),S=useVirtual({size:f.length,parentRef:d,estimateSize:useCallback(()=>49,[])}),E=useMemo(()=>styled.div(()=>({maxHeight:u?`${u+30}px`:\"none\",overflow:\"auto\",padding:\"15px\"})),[u]),w=useMemo(()=>styled.table(({theme:t})=>({borderCollapse:\"collapse\",borderSpacing:0,color:t.color.defaultText,fontFamily:t.typography.fonts.base,fontSize:t.typography.size.s1,minWidth:700,tableLayout:\"fixed\",textAlign:\"left\",width:\"100%\",\"thead > tr\":{display:\"flex\"},\"tbody > tr\":{borderTop:`1px solid ${t.color.mediumlight}`,display:\"flex\",\":first-of-type\":{borderTopColor:t.color.medium},\":last-of-type\":{borderBottom:`1px solid ${t.color.mediumlight}`}},\"td, th\":{border:\"none !important\",textOverflow:\"ellipsis\",verticalAlign:\"middle\",\":nth-of-type(1)\":{flexBasis:\"50%\",flexGrow:1,flexShrink:0},\":nth-of-type(2)\":{flexBasis:\"25%\",flexGrow:0,flexShrink:0},\":nth-of-type(3)\":{flexBasis:\"25%\",flexGrow:0,flexShrink:0}},th:{color:t.base===\"light\"?transparentize(.25,t.color.defaultText):transparentize(.45,t.color.defaultText),paddingBottom:12,\":not(:first-of-type)\":{paddingLeft:15},\":not(:last-of-type)\":{paddingRight:15},\":last-of-type\":{width:200}},td:{overflow:\"hidden\",paddingBottom:8,paddingTop:8,alignItems:\"center\",\":not(:first-of-type)\":{paddingLeft:15},\":not(:last-of-type)\":{paddingRight:15},svg:{maxWidth:\"100%\",maxHeight:\"100%\"},span:{alignItems:\"center\",display:\"flex\",height:\"100%\"}}})),[]),y=styled.span(({theme:t})=>({fontFamily:t.typography.fonts.mono,fontWeight:t.typography.weight.bold,fontSize:t.typography.size.s1}));return useLayoutEffect(()=>{let t=document.querySelector(\"#storybook-panel-root\");if(!t)return;let s=()=>{if(o!==void 0||!t)return;let k=window.innerHeight,z=d.current?.getBoundingClientRect().top||0,T=k-z-40;p(T);};setTimeout(()=>{s();});let b=new ResizeObserver(s);return b.observe(t),()=>b.disconnect()},[]),i.createElement(E,{ref:d},i.createElement(w,{style:{height:`${S.totalSize+(g.current?.getBoundingClientRect().height||0)}px`,position:\"relative\"}},i.createElement(\"thead\",{className:\"docblock-argstable-head\",ref:g,style:{height:\"28px\"}},i.createElement(\"tr\",null,i.createElement(\"th\",null,\"Name\"),n&&i.createElement(\"th\",null,\"Value\"),i.createElement(\"th\",null,\"Preview\"))),i.createElement(\"tbody\",null,S.virtualItems.map(t=>{let s=f[t.index];return i.createElement(\"tr\",{key:t.index,style:{position:\"absolute\",top:0,left:0,width:\"100%\",height:`${t.size}px`,transform:`translateY(${t.start+(g.current?.getBoundingClientRect().height||0)}px)`}},i.createElement(\"td\",null,i.createElement(\"span\",null,i.createElement(y,null,s.name),i.createElement(WithTooltip,{hasChrome:!1,tooltip:i.createElement(TooltipNote,{note:\"Copy to clipboard\"})},i.createElement(L,{button:i.createElement(P,null,i.createElement(Icons,{icon:\"copy\"})),value:s.name})),s.description&&i.createElement(WithTooltip,{tooltip:i.createElement(TooltipMessage,{desc:s.description})},i.createElement(P,null,i.createElement(Icons,{icon:\"info\"}))))),n&&i.createElement(\"td\",null,i.createElement(A,{key:s.name,onValueChange:b=>{l(k=>({...k,[s.name]:b===s.rawValue?void 0:b}));},readonly:r,token:s})),i.createElement(\"td\",null,i.createElement(O,{token:{...s,value:a[s.name]||s.value}})))}))))};var Ko=styled.div(()=>({margin:\"25px 0 40px\",\"*\":{boxSizing:\"border-box\"}})),Qo=styled.div(()=>({boxShadow:\"rgb(0 0 0 / 10%) 0px 1px 3px 1px, rgb(0 0 0 / 7%) 0px 0px 0px 1px\",borderRadius:4})),Ne=({categoryName:e,maxHeight:o=600,showValueColumn:r=!0,viewType:n=\"table\",showSearch:a=!0,pageSize:l})=>{let{tabs:u}=J({pageSize:l,showSearch:a}),p=useMemo(()=>u.find(d=>d.label===e),[e,u]);return p?i.createElement(Ro,{categories:p.categories,viewType:n,maxHeight:o,showValueColumn:r,showSearch:a,pageSize:l}):null};function Ro({viewType:e,categories:o,maxHeight:r,showValueColumn:n,showSearch:a,pageSize:l}){let{searchText:u,setSearchText:p,categories:d}=Z(o??[]);return i.createElement(Ko,{className:\"design-token-container\"},a&&i.createElement(R,{value:u,onChange:g=>{p(g);},style:{margin:\"12px 0\"}}),e===\"table\"&&i.createElement(Qo,{className:\"design-token-card\"},i.createElement(Ve,{categories:d,maxHeight:r,readonly:!0,showValueColumn:n})),e===\"card\"&&i.createElement(Se,{categories:d,padded:!1,readonly:!0,showValueColumn:n,pageSize:l}))}var Yn={};\n\nexport { Ne as DesignTokenDocBlock, Yn as default };\n//# sourceMappingURL=out.js.map\n//# sourceMappingURL=index.mjs.map"],"names":[],"sourceRoot":""}