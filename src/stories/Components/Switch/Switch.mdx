import { Meta, Story, Canvas, Controls } from '@storybook/blocks'
import * as SwitchStories from './Switch.stories'
import { createSourceCodeLink } from '../../helpers/sourceCodeLink.js'
import { createAlert } from '../Alert/Alert.js'

<Meta of={SwitchStories} />

# Switch

<div
  dangerouslySetInnerHTML={{
    __html: createSourceCodeLink({ link: 'components/switch.scss' }).outerHTML,
  }}
></div>

Switch classes can be used to create a stylized checkbox or boolean input.

## Note on Implementation

This is just a styling pattern and does not implement the form submission functionality. That is up to the projects needs.

A commonly used tool for Ruby on Rails projects is [SimpleForm](https://github.com/heartcombo/simple_form). It allows you to build forms with premade inputs and allows you to make custom input types.

[RoleModel Rails SimpleForm Generator](https://github.com/RoleModel/rolemodel_rails/tree/master/lib/generators/rolemodel/simple_form) provides a generator to install a custom switch input that can be used with SimpleForm with Optics classes applied.

## Playground

<Canvas of={SwitchStories.Default} />
<Controls of={SwitchStories.Default} />

### Selective Imports

Switch can be used as a standalone component, however, it does have a few dependencies. To see a full dependency list, see [Dependency Graph](?path=/docs/overview-selective-imports--docs#dependencies)

```css
// Depends on
@import '@rolemodel/optics/dist/scss/core/tokens';
@import '@rolemodel/optics/dist/scss/core/base';

// Component
@import '@rolemodel/optics/dist/scss/components/switch';
```

## Variations

### Default

`.switch` Provides basic styling for a checkbox or boolean input. It is intended to be used on an input element if type checkbox. It is also intended to be used within a form group. This typically would use `.form-group.form-group--inline` but can be used without the inline modifier.

<Canvas of={SwitchStories.Default} />

### Size

`.switch--large`, `.switch--small` (with large being the default) modify the size of the switch.

<Canvas of={SwitchStories.Small} />

### Disabled

`disabled='disabled'` will disable the switch.

<Canvas of={SwitchStories.Disabled} />

## Switch API

The size styles are built on CSS variables scoped to the switch.

Here are the variables that can be customized:

{/* prettier-ignore-start */}
```css
--_op-switch-height-small
--_op-switch-height-large
--_op-switch-width-small
--_op-switch-width-large
--_op-switch-opacity-disabled
--_op-switch-switch-padding
```
{/* prettier-ignore-end */}

## Customizing Switch styles

<div
  dangerouslySetInnerHTML={{
    __html: createAlert({
      title: 'Important!',
      description: 'These patterns represent how to customize the style of the switch for your project.',
    }).outerHTML,
  }}
></div>

The switch classes are structured using the [BEM methodology](https://getbem.com/naming).

This allows us to define core styles on a main [block](https://getbem.com/naming/#block) class, and use [modifiers](https://getbem.com/naming/#modifier) to encapsulate variant styles. You can modify all switch behavior by overriding the `%switch-global` selector and setting any properties:

```css
.switch {
}
```

If you need to override the behavior of a particular switch style, you can open the respective class and set or change properties

```css
.switch--modifier {
}
```

## New Switch Variations

<div
  dangerouslySetInnerHTML={{
    __html: createAlert({
      title: 'Important!',
      description: 'These patterns represent how to create new variations of the switch for your project.',
    }).outerHTML,
  }}
></div>

Your application may need a variation. To add one, just follow this template. Note the double hyphen, indicating that this is a [modifier](https://getbem.com/naming/#modifier):

```css
.switch--{name} {
}
```
