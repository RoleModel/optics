import { Meta, Story, Canvas, Controls } from '@storybook/blocks'
import * as ErrorSummaryStories from './ErrorSummary.stories'
import * as FormGroupStories from './FormGroup.stories'
import * as InputStories from './Input.stories'
import * as LabelStories from './Label.stories'
import * as SelectStories from './Select.stories'
import * as TextareaStories from './Textarea.stories'
import { createSourceCodeLink } from '../../helpers/sourceCodeLink.js'
import { createAlert } from '../Alert/Alert.js'

<Meta title="Content Components/Form" />

# Form

<div
  dangerouslySetInnerHTML={{
    __html: createSourceCodeLink({ link: 'components/form.scss' }).outerHTML,
  }}
></div>

Form classes can be used on a variety of `inputs` or `select` html elements.
They provide consistent and composable styling that should address most applications basic needs.

## Playground

<Canvas of={FormGroupStories.Default} />
<Controls of={FormGroupStories.Default} />

### Selective Imports

Form Controls can be used as standalone components, however, they do have a few dependencies. To see a full dependency list, see [Dependency Graph](?path=/docs/overview-selective-imports--docs#dependencies)

```css
// Depends on
@import '@rolemodel/optics/dist/scss/core/tokens';
@import '@rolemodel/optics/dist/scss/core/base';

// Component
@import '@rolemodel/optics/dist/scss/components/form';
```

## Variations

### Label

`.form-label` Provides basic input label styles.

<Canvas of={LabelStories.Default} />

### Input

`.form-control` Provides basic input styles. This can be used on `input` html elements. It works across a variety of types such as `text`, `number`, `password`, `email`, `phone`, `color`, `radio`, and, `checkbox`

<Canvas of={InputStories.Default} />

### Form Group

`.form-group` Composes an input and label together as a pair. It provides padding between input + label pairs in a form.

<Canvas of={FormGroupStories.Default} />

### Form Group Inline

`.form-group--inline` can be added to a `.form-group` to display the label and input on the same line.

<Canvas of={FormGroupStories.Inline} />

### Textarea

`textarea.form-control` Provides basic text area styles. This can be used on `textarea` html elements.

<Canvas of={TextareaStories.Default} />
<Controls of={TextareaStories.Default} />

### Dropdown

`select.form-control` Provides basic `select` element styles.

<Canvas of={SelectStories.Default} />
<Controls of={SelectStories.Default} />

### Color

`<input type='color' class='form-control'>` Provides basic color input styles. This can be used on `input` html elements with a type of `color`.

<Canvas of={InputStories.Color} />

### Radio

`<input type='radio' class='form-control'>` Provides basic input of type `radio` styles.

<Canvas of={FormGroupStories.Radio} />

### Checkbox

`<input type='checkbox' class='form-control'>` Provides basic input of type `radio` styles.

<Canvas of={FormGroupStories.Checkbox} />

### Error Summary

`.form-error-summary` Is an error section, usually displayed above the form with a list of errors.

<Canvas of={ErrorSummaryStories.Default} />
<Controls of={ErrorSummaryStories.Default} />

### Input Error

`.form-group--error` and `.form-error` are typically used on combination when there is a validation error on an input. They highlight the input in error along with the message provided.

<Canvas of={FormGroupStories.Error} />

### Input Hint

`.form-hint` can be used inside of a `.form-group` to provide help text for an input.

<Canvas of={FormGroupStories.Hint} />

### No Border

`.form-control--no-border` can be used to create a borderless input or select. When used in a form group with `.form-group--error`, the input will get a red bottom border and highlight.

<Canvas of={FormGroupStories.NoBorder} />

### Size

`.form-control--small`, `.form-control--medium`, `.form-control--large` (with large being the default) modify the size of any element by changing the font and height to be smaller or larger.

<Canvas of={FormGroupStories.Small} />

### Read Only

The `read-only` data attribute on any input with `.form-control` can be used to display values in a form-like way.

<Canvas of={FormGroupStories.Readonly} />

### Indeterminate Checkbox

Checkboxes that use the indeterminate psuedo-class with be displayed with a `-` inside the checkmark.
See [MDN's documentation](https://developer.mozilla.org/en-US/docs/Web/CSS/:indeterminate) for further information.

<Canvas of={FormGroupStories.IndeterminateCheckbox} />

## Form API

Styles are built on css variables scoped to the form elements.

Here are the variables that can be customized.

{/* prettier-ignore-start */}
```css
// form-control-global
--_op-form-control-height-small
--_op-form-control-height-medium
--_op-form-control-height-large
--_op-form-control-font-small
--_op-form-control-font-medium
--_op-form-control-font-large

// form-control-input-global
--_op-form-control-opacity-disabled

// form-control-inline-global
--_op-form-control-height-small
--_op-form-control-height-medium
--_op-form-control-height-large
```
{/* prettier-ignore-end */}

## Customizing Form styles

<div
  dangerouslySetInnerHTML={{
    __html: createAlert({
      title: 'Important!',
      description: 'These patterns represent how to customize the style of the form for your project.',
    }).outerHTML,
  }}
></div>

The form classes are built on a [sass placeholder selector](https://sass-lang.com/documentation/style-rules/placeholder-selectors)

This allows multiple classes to share the same behavior.

Form Controls use multiple placeholder selectors to style all types of controls.

`%form-control-global` is the placeholder selector that is used to style all form controls.

`%form-control-input-global` is the placeholder selector that is used to style form controls based on the input like color, date, text, number, etc.

`%form-control-inline-global` is the placeholder selector that is used to style checkboxes and radio buttons.

You can open them up like so to modify the styles:

```css
%form-control-global {
}
```
