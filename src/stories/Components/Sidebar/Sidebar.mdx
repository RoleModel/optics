import { Meta, Story, Canvas, Controls } from '@storybook/blocks'
import * as SidebarStories from './Sidebar.stories'

<Meta of={SidebarStories} />

# Sidebar

Sidebar classes provide simple styling for a navigation sidebar drawer or rail.

For instructions on how to integrate a sidebar into your applications layout, see [Layout With Sidebar](?path=/docs/recipes-layout--sidebar)

`.sidebar` is the main component that everything is contained within.

`.sidebar--drawer` and `.sidebar--rail` are used to denote which style of sidebar you would like to use.

`.sidebar--responsive` can be added to a drawer to allow for a responsive sidebar. e.g.

```html
<div class="sidebar sidebar--drawer sidebar--responsive">...</div>
```

## Playground

<Canvas of={SidebarStories.DefaultDrawer} />
<Controls of={SidebarStories.DefaultDrawer} />

## Default

`.sidebar` Provides a neutral colored sidebar. This uses the neutral color defined in your theme.

<div class="flex layout-row gap-sm">
  <Canvas of={SidebarStories.DefaultDrawer} />
  <Canvas of={SidebarStories.DefaultRail} />
</div>

## Primary

`.sidebar-primary` Provides a primary colored sidebar. This uses the primary color defined in your theme.

<div class="flex layout-row gap-sm">
  <Canvas of={SidebarStories.PrimaryDrawer} />
  <Canvas of={SidebarStories.PrimaryRail} />
</div>

## Subtle Primary

`.sidebar-subtle-primary` Provides a more subtle version of the primary colored sidebar

<div class="flex layout-row gap-sm">
  <Canvas of={SidebarStories.SubtlePrimaryDrawer} />
  <Canvas of={SidebarStories.SubtlePrimaryRail} />
</div>

## Brand

`.sidebar__brand` can be used with an image tag inside. This can be used to display your applications branding or logo.

The brand is not required and the rail will adjust itself accordingly.

<div class="flex layout-row gap-sm">
  <Canvas of={SidebarStories.NoBrandDrawer} />
  <Canvas of={SidebarStories.NoBrandRail} />
</div>

## Content

`.sidebar__content` defines the container that `.sidebar__item` should be placed in. It can be positioned by using modifier classes.
`.sidebar__content--start`, `.sidebar__content--center`, `.sidebar__content--end` with start being the default.

<div class="flex layout-row gap-sm">
  <Canvas of={SidebarStories.CenteredDrawer} />
  <Canvas of={SidebarStories.CenteredRail} />
</div>

<div class="flex layout-row gap-sm">
  <Canvas of={SidebarStories.EndDrawer} />
  <Canvas of={SidebarStories.EndRail} />
</div>

<div class="flex layout-row gap-sm">
  <Canvas of={SidebarStories.LogoutDrawer} />
  <Canvas of={SidebarStories.LogoutRail} />
</div>

## Sidebar API

Color and hover styles are built on css variables scoped to the sidebar.

Here are the variables used

```css
// Normal
--_op-sidebar-background-color:
--_op-sidebar-text-color:

// Active
--_op-sidebar-icon-background-active-color:
--_op-sidebar-icon-text-active-color:

// Hover
--_op-sidebar-icon-background-hover-color:
--_op-sidebar-icon-text-hover-color:

--_op-sidebar-rail-width:
--_op-sidebar-drawer-width:

--_op-sidebar-spacing:
--_op-sidebar-link-spacing:

--_op-sidebar-transition:
```

## Overriding Sidebar styles

The sidebar classes are built on a [sass placeholder selector](https://sass-lang.com/documentation/style-rules/placeholder-selectors)

This allows multiple sidebar classes to share the same behavior. You can modify all sidebar behavior by overriding the `%sidebar-global` placeholder selector and setting any properties:

```css
%sidebar-global {
  --_op-sidebar-rail-width: 10rem;
  --_op-sidebar-drawer-width: 30rem;
}
```

There are also mixins for the rail and drawer specific styles. They can be overridden like:

```css
@mixin sidebar-rail-global {
  .sidebar__section-title,
  .sidebar__section-divider {
    display: block;
  }
}

@mixin sidebar-drawer-global {
  .sidebar__section-title {
    font-weight: var(--op-font-weight-black);
  }
}
```

If you need to override the color of a particular sidebar style, you can open the respective class and change the variables documented above

```css
// This will only affect the primary sidebar, but not default or subtle primary
.sidebar-primary {
  --_op-sidebar-background-color: pruple;
  --_op-sidebar-text-color: pruple;
}
```

## Custom Sidebar

Your application may need a custom Sidebar. To add one, just follow this template:

```css
.sidebar-{name} {
  @extend %sidebar-global;

  // Normal
  --_op-sidebar-background-color:
  --_op-sidebar-text-color:

  // Active
  --_op-sidebar-icon-background-active-color:
  --_op-sidebar-icon-text-active-color:

  // Hover
  --_op-sidebar-icon-background-hover-color:
  --_op-sidebar-icon-text-hover-color:
}
```
